module datapath(input RegDst, Branch, MemRead, MemWrite, ALUSrc, RegWrite, clock, [1:0] ALUOP, [15:0] busW);
	wire[31:0] Instruction;
	wire[3:0] RW;
	wire[15:0] busA, busB;
	wire[15:0] B;
	wire[15:0] ALUResult;
	wire[2:0] ALUControl;

	assign RW = RegDst ? Instruction[17:14] : Instruction[21:18];
	
	assign B = ALUSrc ? Instruction[17:2] : busB;
	
	regfile16x16 registers(Instuction[25:22], Instruction[21:18], RW, busW, RegWrite, clock, busA, busB);


	alu16 alu(busA, B, ALUControl, ALUResult) 
	
	ALUControlUnit(ALUOP, Instruction[9:4], ALUControl);


endmodule 